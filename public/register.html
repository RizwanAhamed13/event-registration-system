<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cosmic Register</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #7b2cbf;
      --primary-light: #9d4edd;
      --primary-dark: #5a189a;
      --secondary: #c77dff;
      --accent: #e0aaff;
      --text: #f8f9fa;
      --text-secondary: #adb5bd;
      --bg: #10002b;
      --bg-light: #240046;
      --bg-dark: #030014;
      --star-density: 800;
      --shooting-star-frequency: 8;
      --animation-speed: 1;
      --nebula-opacity: 0.5;
      --particle-effects: 1;
      --aurora-effect: 1;
      --comet-effect: 1;
      --pulse-orb-effect: 1;
      --constellation-effect: 1;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }
    
    /* Performance Optimizations */
    .star, .shooting-star, .particle, .comet, .pulse-orb {
      will-change: transform, opacity;
    }
    
    /* Cosmic Background */
    .cosmic-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -3;
      background: radial-gradient(ellipse at bottom, var(--bg-dark) 0%, var(--bg) 100%);
    }
    
    /* Extreme Starfield */
    .starfield {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
      overflow: hidden;
    }
    
    .star-layer {
      position: absolute;
      width: 100%;
      height: 100%;
    }
    
    .star {
      position: absolute;
      background-color: white;
      border-radius: 50%;
      animation: fall linear infinite;
      animation-duration: calc(var(--animation-speed) * 50s);
      backface-visibility: hidden;
    }
    
    .star-layer:nth-child(1) .star {
      animation-duration: calc(var(--animation-speed) * 30s);
      opacity: 0.9;
    }
    
    .star-layer:nth-child(2) .star {
      animation-duration: calc(var(--animation-speed) * 60s);
      opacity: 0.7;
    }
    
    .star-layer:nth-child(3) .star {
      animation-duration: calc(var(--animation-speed) * 90s);
      opacity: 0.5;
    }
    
    .star-layer:nth-child(4) .star {
      animation-duration: calc(var(--animation-speed) * 120s);
      opacity: 0.3;
    }
    
    .star-layer:nth-child(5) .star {
      animation-duration: calc(var(--animation-speed) * 150s);
      opacity: 0.2;
    }
    
    @keyframes fall {
      to {
        transform: translateY(100vh);
      }
    }
    
    /* Twinkling stars */
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    
    /* Shooting stars */
    .shooting-star {
      position: absolute;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      filter: blur(1px);
      box-shadow: 0 0 10px 2px var(--accent);
      animation: shoot linear infinite;
      animation-duration: calc(var(--animation-speed) * 2s);
      z-index: -1;
    }
    
    .shooting-star::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100px;
      height: 1px;
      background: linear-gradient(90deg, white, transparent);
      transform-origin: left center;
      transform: rotate(45deg);
    }
    
    @keyframes shoot {
      0% {
        transform: translateX(0) translateY(0);
        opacity: 1;
      }
      70% {
        opacity: 1;
      }
      100% {
        transform: translateX(1000px) translateY(500px);
        opacity: 0;
      }
    }
    
    /* Nebula Effects */
    .nebula {
      position: fixed;
      width: 200vw;
      height: 200vh;
      top: -50vh;
      left: -50vw;
      background: radial-gradient(circle at center, 
        rgba(123, 44, 191, 0.15) 0%, 
        rgba(36, 0, 70, 0) 70%);
      animation: nebula-pulse 30s infinite alternate;
      z-index: -1;
      opacity: var(--nebula-opacity);
    }
    
    .nebula:nth-child(2) {
      background: radial-gradient(circle at 30% 70%, 
        rgba(157, 78, 221, 0.1) 0%, 
        rgba(36, 0, 70, 0) 60%);
      animation: nebula-pulse-2 25s infinite alternate;
      animation-delay: 5s;
    }
    
    .nebula:nth-child(3) {
      background: radial-gradient(circle at 70% 30%, 
        rgba(199, 125, 255, 0.08) 0%, 
        rgba(36, 0, 70, 0) 50%);
      animation: nebula-pulse-3 20s infinite alternate;
      animation-delay: 10s;
    }
    
    @keyframes nebula-pulse {
      0%, 100% { transform: scale(1); opacity: calc(var(--nebula-opacity) * 0.6); }
      50% { transform: scale(1.2); opacity: var(--nebula-opacity); }
    }
    
    @keyframes nebula-pulse-2 {
      0%, 100% { transform: scale(1) rotate(0deg); opacity: calc(var(--nebula-opacity) * 0.4); }
      50% { transform: scale(1.1) rotate(5deg); opacity: calc(var(--nebula-opacity) * 0.8); }
    }
    
    @keyframes nebula-pulse-3 {
      0%, 100% { transform: scale(1) rotate(0deg); opacity: calc(var(--nebula-opacity) * 0.2); }
      50% { transform: scale(0.9) rotate(-5deg); opacity: calc(var(--nebula-opacity) * 0.6); }
    }
    
    /* UI Controls Panel */
    .controls-panel {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(36, 0, 70, 0.9);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid var(--primary);
      box-shadow: 0 0 20px rgba(123, 44, 191, 0.7);
      z-index: 1000;
      backdrop-filter: blur(5px);
      transform: translateX(calc(100% - 40px));
      transition: transform 0.5s ease;
      width: 250px;
    }
    
    .controls-panel:hover {
      transform: translateX(0);
    }
    
    .controls-panel h3 {
      color: var(--accent);
      margin-bottom: 15px;
      font-family: 'Orbitron', sans-serif;
      display: flex;
      align-items: center;
    }
    
    .controls-panel h3::before {
      content: '⚙️';
      margin-right: 10px;
      font-size: 1.2em;
    }
    
    .control-group {
      margin-bottom: 15px;
    }
    
    .control-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 0.85rem;
      color: var(--text-secondary);
      display: flex;
      justify-content: space-between;
    }
    
    .control-group input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      height: 6px;
      background: var(--primary-dark);
      border-radius: 5px;
      outline: none;
    }
    
    .control-group input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      background: var(--accent);
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(224, 170, 255, 0.8);
    }
    
    .toggle-control {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .toggle-control input {
      -webkit-appearance: none;
      width: 40px;
      height: 20px;
      background: var(--primary-dark);
      border-radius: 10px;
      position: relative;
      cursor: pointer;
      margin-right: 10px;
      transition: all 0.3s ease;
    }
    
    .toggle-control input::before {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--text-secondary);
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: all 0.3s ease;
    }
    
    .toggle-control input:checked {
      background: var(--primary-light);
    }
    
    .toggle-control input:checked::before {
      background: var(--accent);
      left: 22px;
      box-shadow: 0 0 5px var(--accent);
    }
    
    .toggle-control label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      cursor: pointer;
    }
    
    /* Theme Color Picker */
    .color-picker {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-top: 15px;
    }
    
    .color-option {
      width: 25px;
      height: 25px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
      transition: transform 0.2s ease;
    }
    
    .color-option:hover {
      transform: scale(1.1);
    }
    
    .color-option.selected {
      border-color: white;
      box-shadow: 0 0 5px white;
      transform: scale(1.1);
    }
    
    /* Container with advanced effects */
    .container {
      max-width: 500px;
      margin: 40px auto;
      padding: 2rem;
      background: rgba(36, 0, 70, 0.7);
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(123, 44, 191, 0.5),
                  0 0 60px rgba(123, 44, 191, 0.2),
                  0 0 90px rgba(123, 44, 191, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid var(--primary);
      position: relative;
      overflow: hidden;
      z-index: 10;
      animation: float 8s ease-in-out infinite;
    }
    
    .container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(157,78,221,0.1) 0%, rgba(36,0,70,0) 70%);
      animation: pulse 15s infinite alternate;
      z-index: -1;
    }
    
    .container::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 20px;
      border: 1px solid transparent;
      background: linear-gradient(45deg, 
        var(--primary), 
        var(--secondary), 
        var(--accent), 
        var(--primary)) border-box;
      -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: destination-out;
      mask-composite: exclude;
      pointer-events: none;
      animation: border-glow 8s linear infinite;
      z-index: -1;
    }
    
    @keyframes pulse {
      0% {
        transform: scale(0.8);
        opacity: 0.5;
      }
      100% {
        transform: scale(1.2);
        opacity: 0.8;
      }
    }
    
    @keyframes border-glow {
      0% {
        opacity: 0.3;
        background-position: 0% 50%;
      }
      50% {
        opacity: 0.7;
      }
      100% {
        opacity: 0.3;
        background-position: 100% 50%;
      }
    }
    
    /* Header with animated gradient text */
    h2 {
      font-family: 'Orbitron', sans-serif;
      text-align: center;
      margin-bottom: 1.5rem;
      font-size: 2.2rem;
      letter-spacing: 3px;
      position: relative;
      background: linear-gradient(90deg, 
        var(--accent), 
        var(--secondary), 
        var(--primary-light), 
        var(--accent));
      background-size: 300% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient-text 8s linear infinite;
      text-shadow: 0 0 10px rgba(224, 170, 255, 0.3);
    }
    
    @keyframes gradient-text {
      0% { background-position: 0% center; }
      100% { background-position: 100% center; }
    }
    
    h2::after {
      content: '';
      display: block;
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, 
        transparent, 
        var(--primary), 
        var(--secondary), 
        transparent);
      margin: 15px auto;
      border-radius: 3px;
      animation: line-grow 2s ease-in-out infinite alternate;
    }
    
    @keyframes line-grow {
      0% { width: 50px; opacity: 0.5; }
      100% { width: 150px; opacity: 1; }
    }
    
    /* Advanced form styles with field transitions */
    .form-group {
      margin-bottom: 1.8rem;
      position: relative;
      transition: all 0.5s ease;
      animation: field-transition 0.8s ease-out forwards;
      opacity: 0;
    }
    
    .form-group::before {
      content: '';
      position: absolute;
      top: 0;
      left: -15px;
      width: 3px;
      height: 0;
      background: linear-gradient(to bottom, var(--secondary), var(--accent));
      border-radius: 3px;
      transition: all 0.5s ease;
      opacity: 0;
    }
    
    .form-group.active::before {
      height: 100%;
      opacity: 1;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--text-secondary);
      font-size: 0.9rem;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      transform-origin: left center;
    }
    
    .form-group.active label {
      color: var(--accent);
      transform: translateY(-5px) scale(1.05);
      text-shadow: 0 0 8px rgba(224, 170, 255, 0.5);
    }
    
    .input-field {
      position: relative;
    }
    
    .input-field input, .input-field select {
      width: 100%;
      padding: 14px 20px;
      background: rgba(16, 0, 43, 0.5);
      border: 1px solid var(--primary-dark);
      border-radius: 10px;
      color: var(--text);
      font-size: 1rem;
      transition: all 0.4s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .input-field input:focus, .input-field select:focus {
      outline: none;
      border-color: var(--secondary);
      box-shadow: 0 0 0 3px rgba(157, 78, 221, 0.3),
                  0 5px 20px rgba(157, 78, 221, 0.2);
      background: rgba(16, 0, 43, 0.8);
      transform: translateY(-2px);
    }
    
    .input-field::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--secondary), var(--accent));
      transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    }
    
    .input-field:focus-within::after {
      width: 100%;
    }
    
    /* Floating label animation */
    .input-field .floating-label {
      position: absolute;
      top: 14px;
      left: 20px;
      color: var(--text-secondary);
      transition: all 0.3s ease;
      pointer-events: none;
      background: rgba(16, 0, 43, 0.7);
      padding: 0 5px;
      border-radius: 3px;
    }
    
    .input-field input:focus + .floating-label,
    .input-field input:not(:placeholder-shown) + .floating-label {
      top: -8px;
      left: 15px;
      font-size: 0.8rem;
      color: var(--accent);
      background: rgba(36, 0, 70, 0.9);
    }
    
    /* Button with advanced effects */
    .btn {
      display: block;
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      position: relative;
      overflow: hidden;
      z-index: 1;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      font-family: 'Orbitron', sans-serif;
      box-shadow: 0 5px 15px rgba(123, 44, 191, 0.4);
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary-light), var(--secondary));
      transition: all 0.6s ease;
      z-index: -1;
    }
    
    .btn:hover::before {
      left: 0;
    }
    
    .btn:hover {
      box-shadow: 0 8px 25px rgba(157, 78, 221, 0.6);
      transform: translateY(-3px);
    }
    
    .btn:active {
      transform: translateY(1px);
      box-shadow: 0 3px 10px rgba(123, 44, 191, 0.4);
    }
    
    .btn::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: rgba(255, 255, 255, 0.1);
      transform: rotate(45deg);
      pointer-events: none;
      transition: all 0.5s ease;
      z-index: -1;
    }
    
    .btn:hover::after {
      left: 100%;
    }
    
    /* Message box with particle burst */
    #msg {
      margin-top: 1.5rem;
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      font-size: 0.95rem;
      transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      transform: scale(0.9);
      opacity: 0;
      height: 0;
      overflow: hidden;
    }
    
    #msg.show {
      transform: scale(1);
      opacity: 1;
      height: auto;
      padding: 12px;
      margin-top: 1.5rem;
    }
    
    /* Info box with expanding effect */
    #infoBox {
      background: rgba(16, 0, 43, 0.7);
      border: 1px solid var(--primary);
      padding: 0;
      margin-top: 1.5rem;
      border-radius: 10px;
      display: none;
      overflow: hidden;
      box-shadow: 0 0 15px rgba(123, 44, 191, 0.3);
      max-height: 0;
      transition: max-height 0.8s ease, padding 0.8s ease;
    }
    
    #infoBox.show {
      display: block;
      max-height: 500px;
      padding: 20px;
    }
    
    #infoBox b {
      color: var(--accent);
    }
    
    #infoBox ul {
      margin-left: 1.5rem;
      margin-top: 0.5rem;
      list-style-type: none;
    }
    
    #infoBox ul li {
      position: relative;
      padding-left: 1.5rem;
    }
    
    #infoBox ul li::before {
      content: '✦';
      position: absolute;
      left: 0;
      color: var(--secondary);
    }
    
    /* Floating animation for form */
    @keyframes float {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      25% {
        transform: translateY(-10px) rotate(1deg);
      }
      50% {
        transform: translateY(-5px) rotate(-1deg);
      }
      75% {
        transform: translateY(-8px) rotate(0.5deg);
      }
    }
    
    /* Field transition animation */
    @keyframes field-transition {
      0% {
        transform: translateY(20px);
        opacity: 0;
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    /* Add delay to each form group */
    .form-group:nth-child(1) { animation-delay: 0.1s; }
    .form-group:nth-child(2) { animation-delay: 0.2s; }
    .form-group:nth-child(3) { animation-delay: 0.3s; }
    .form-group:nth-child(4) { animation-delay: 0.4s; }
    .form-group:nth-child(5) { animation-delay: 0.5s; }
    .form-group:nth-child(6) { animation-delay: 0.6s; }
    .form-group:nth-child(7) { animation-delay: 0.7s; }
    .form-group:nth-child(8) { animation-delay: 0.8s; }
    .form-group:nth-child(9) { animation-delay: 0.9s; }
    
    /* Fixed Mobile Controls Toggle */
    .mobile-controls-toggle {
      position: fixed;
      top: 15px;
      right: 15px;
      width: 44px;
      height: 44px;
      background: rgba(36, 0, 70, 0.9);
      border: 1px solid var(--primary);
      border-radius: 50%;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      z-index: 1001;
      box-shadow: 0 0 15px rgba(123, 44, 191, 0.7);
    }
    
    .mobile-controls-toggle span {
      display: block;
      width: 22px;
      height: 2px;
      background: var(--accent);
      margin: 4px 0;
      transition: all 0.3s ease;
      transform-origin: center;
    }
    
    .mobile-controls-toggle.active span:nth-child(1) {
      transform: translateY(6px) rotate(45deg);
    }
    
    .mobile-controls-toggle.active span:nth-child(2) {
      opacity: 0;
      transform: scale(0);
    }
    
    .mobile-controls-toggle.active span:nth-child(3) {
      transform: translateY(-6px) rotate(-45deg);
    }
    
    /* Particle effects */
    .particle {
      position: absolute;
      background: var(--accent);
      border-radius: 50%;
      pointer-events: none;
      z-index: 100;
      filter: blur(1px);
    }
    
    /* Spinner for loading */
    .spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--accent);
      animation: spin 1s ease-in-out infinite;
      margin-right: 8px;
      vertical-align: middle;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Constellation effect */
    .constellation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      opacity: var(--constellation-effect);
    }
    
    .constellation-line {
      position: absolute;
      background: rgba(224, 170, 255, 0.1);
      height: 1px;
      transform-origin: left center;
    }
    
    /* Comet trail */
    .comet {
      position: absolute;
      width: 6px;
      height: 6px;
      background: white;
      border-radius: 50%;
      filter: blur(1px);
      box-shadow: 0 0 20px 5px var(--accent);
      animation: comet-fly 20s linear infinite;
      z-index: -1;
      opacity: 0;
    }
    
    .comet::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 150px;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), transparent);
      transform-origin: left center;
    }
    
    @keyframes comet-fly {
      0% {
        transform: translateX(-100px) translateY(50px);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateX(100vw) translateY(calc(50px + 50vh));
        opacity: 0;
      }
    }
    
    /* Aurora effect */
    .aurora {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, 
        rgba(123, 44, 191, 0.05) 0%, 
        rgba(157, 78, 221, 0.03) 50%, 
        rgba(199, 125, 255, 0.05) 100%);
      z-index: -1;
      animation: aurora-shift 30s infinite alternate;
      opacity: calc(var(--aurora-effect) * 0.5);
    }
    
    @keyframes aurora-shift {
      0% { transform: translateY(0) skewY(0deg); }
      33% { transform: translateY(-50px) skewY(2deg); }
      66% { transform: translateY(50px) skewY(-1deg); }
      100% { transform: translateY(0) skewY(0deg); }
    }
    
    /* Pulsing orb decoration */
    .pulse-orb {
      position: absolute;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, var(--primary-light), transparent 70%);
      border-radius: 50%;
      filter: blur(10px);
      animation: pulse-orb 8s infinite alternate;
      z-index: -1;
      opacity: var(--pulse-orb-effect);
    }
    
    @keyframes pulse-orb {
      0% { transform: scale(0.8); opacity: calc(var(--pulse-orb-effect) * 0.3); }
      100% { transform: scale(1.2); opacity: calc(var(--pulse-orb-effect) * 0.6); }
    }
    
    /* Save/Load Controls */
    .save-controls {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(157, 78, 221, 0.3);
    }
    
    .save-btn {
      background: rgba(157, 78, 221, 0.2);
      border: 1px solid var(--primary-light);
      color: var(--accent);
      padding: 6px 12px;
      border-radius: 5px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-right: 8px;
    }
    
    .save-btn:hover {
      background: rgba(157, 78, 221, 0.4);
    }

    /* Responsive design - Mobile specific overrides */
    @media (max-width: 768px) {
      .mobile-controls-toggle {
        display: flex;
      }
      
      .controls-panel {
        width: calc(100% - 30px);
        right: 15px;
        top: 70px;
        transform: translateX(150%);
        max-height: calc(100vh - 90px);
        overflow-y: auto;
      }
      
      .controls-panel.active {
        transform: translateX(0);
      }
      
      .container {
        margin: 20px auto;
        padding: 1.5rem;
        max-width: 90%;
        animation: none !important;
      }
      
      h2 {
        font-size: 1.8rem;
      }
      
      /* Disable heavy animations on mobile only */
      .container::before, .container::after {
        animation: none !important;
      }
      
      .star {
        animation: none !important;
      }
      
      .shooting-star {
        animation: none !important;
        display: none !important;
      }
      
      .nebula {
        animation: none !important;
      }
      
      .comet {
        animation: none !important;
        display: none !important;
      }
      
      .pulse-orb {
        animation: none !important;
        display: none !important;
      }
      
      .aurora {
        animation: none !important;
      }
      
      .constellation, .constellation-line {
        animation: none !important;
      }
      
      /* Simplify form animations on mobile */
      .form-group {
        animation: none !important;
        opacity: 1;
      }
      
      .form-group::before, .form-group.active::before {
        display: none;
      }
      
      .btn:hover, .btn:active {
        transform: none;
        box-shadow: 0 5px 15px rgba(123, 44, 191, 0.4);
      }
      
      h2::after {
        animation: none !important;
      }
    }
    
    @media (max-width: 480px) {
      .container {
        padding: 1rem;
      }
      
      .form-group {
        margin-bottom: 1.2rem;
      }
      
      .input-field input, .input-field select {
        padding: 12px 15px;
      }
      
      .btn {
        padding: 14px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="cosmic-bg"></div>
  <div class="aurora"></div>
  
  <!-- Extreme Starfield with 5 layers -->
  <div class="starfield">
    <div class="star-layer" id="star-layer-1"></div>
    <div class="star-layer" id="star-layer-2"></div>
    <div class="star-layer" id="star-layer-3"></div>
    <div class="star-layer" id="star-layer-4"></div>
    <div class="star-layer" id="star-layer-5"></div>
  </div>
  
  <!-- Nebula Effects -->
  <div class="nebula"></div>
  <div class="nebula"></div>
  <div class="nebula"></div>
  
  <!-- Shooting stars container -->
  <div id="shooting-stars"></div>
  
  <!-- Constellation effect -->
  <div class="constellation" id="constellation"></div>
  
  <!-- Comet -->
  <div class="comet" id="comet"></div>
  
  <!-- Pulsing Orbs -->
  <div class="pulse-orb" style="top: 20%; left: 10%;"></div>
  <div class="pulse-orb" style="top: 70%; left: 80%; animation-delay: 2s;"></div>
  <div class="pulse-orb" style="top: 40%; left: 60%; animation-delay: 4s;"></div>
  
  <!-- Mobile Controls Toggle -->
  <div class="mobile-controls-toggle" id="mobileControlsToggle">
    <span></span>
    <span></span>
    <span></span>
  </div>
  
  <!-- UI Controls Panel -->
  <div class="controls-panel" id="controlsPanel">
    <h3>Controls</h3>
    
    <div class="control-group">
      <label for="starDensity">Star Density: <span id="starDensityValue">800</span></label>
      <input type="range" id="starDensity" min="100" max="1500" value="800" step="50">
    </div>
    
    <div class="control-group">
      <label for="shootingStarFreq">Shooting Stars: <span id="shootingStarValue">8</span></label>
      <input type="range" id="shootingStarFreq" min="1" max="20" value="8" step="1">
    </div>
    
    <div class="control-group">
      <label for="animationSpeed">Animation Speed: <span id="animationSpeedValue">1</span>x</label>
      <input type="range" id="animationSpeed" min="0.1" max="3" value="1" step="0.1">
    </div>
    
    <div class="control-group">
      <label for="nebulaOpacity">Nebula Opacity: <span id="nebulaOpacityValue">50</span>%</label>
      <input type="range" id="nebulaOpacity" min="0" max="100" value="50" step="5">
    </div>
    
    <div class="toggle-control">
      <input type="checkbox" id="toggleParticles" checked>
      <label for="toggleParticles">Particle Effects</label>
    </div>
    
    <div class="toggle-control">
      <input type="checkbox" id="toggleAurora" checked>
      <label for="toggleAurora">Aurora Effect</label>
    </div>
    
    <div class="toggle-control">
      <input type="checkbox" id="toggleComet" checked>
      <label for="toggleComet">Comet Effect</label>
    </div>
    
    <div class="toggle-control">
      <input type="checkbox" id="togglePulseOrbs" checked>
      <label for="togglePulseOrbs">Pulse Orbs</label>
    </div>
    
    <div class="toggle-control">
      <input type="checkbox" id="toggleConstellation" checked>
      <label for="toggleConstellation">Constellation</label>
    </div>
    
    <div class="color-picker">
      <div class="color-option selected" style="background: #7b2cbf;" data-theme="violet"></div>
      <div class="color-option" style="background: #2c3bbf;" data-theme="blue"></div>
      <div class="color-option" style="background: #bf2c8a;" data-theme="pink"></div>
      <div class="color-option" style="background: #2cbf5e;" data-theme="green"></div>
      <div class="color-option" style="background: #bf842c;" data-theme="orange"></div>
      <div class="color-option" style="background: #6a2cbf;" data-theme="purple"></div>
      <div class="color-option" style="background: #bf2c2c;" data-theme="red"></div>
      <div class="color-option" style="background: #2cb7bf;" data-theme="teal"></div>
    </div>
    
    <div class="save-controls">
      <button class="save-btn" id="saveSettings">Save</button>
      <button class="save-btn" id="resetSettings">Reset</button>
    </div>
  </div>
  
  <div class="container">
    <h2>Register</h2>
    <form id="registerForm">
      <div class="form-group">
        <label>Name</label>
        <div class="input-field">
          <input type="text" name="name" required placeholder=" ">
          <span class="floating-label">Enter your full name</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Email</label>
        <div class="input-field">
          <input type="email" name="email" required placeholder=" ">
          <span class="floating-label">Your email address</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Password</label>
        <div class="input-field">
          <input type="password" name="password" required placeholder=" ">
          <span class="floating-label">Create a password</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Roll Number</label>
        <div class="input-field">
          <input type="text" name="roll_number" required placeholder=" ">
          <span class="floating-label">Your roll number</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Section</label>
        <div class="input-field">
          <input type="text" name="section" required placeholder=" ">
          <span class="floating-label">Your section</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Department</label>
        <div class="input-field">
          <input type="text" name="department" required placeholder=" ">
          <span class="floating-label">Your department</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Referral Roll Number (optional)</label>
        <div class="input-field">
          <input type="text" name="referral_roll_no" placeholder=" ">
          <span class="floating-label">Referral's roll number</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Enter Team Code (to join):</label>
        <div class="input-field">
          <input type="text" name="team_code" id="team_code" placeholder=" ">
          <span class="floating-label">Existing team code</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Or Create a New Team:</label>
        <div class="input-field">
          <input type="text" name="team_name" id="team_name" placeholder=" ">
          <span class="floating-label">New team name</span>
        </div>
      </div>
      
      <button type="submit" class="btn">
        <span class="btn-text">Register</span>
      </button>
      <p id="msg"></p>
    </form>
    
    <div class="form-toggle">
      Already have an account? <a href="#" id="toggleLogin">Login instead</a>
    </div>
    
    <div id="infoBox"></div>
  </div>

  <script>
    // Performance Optimizations
    const MAX_PARTICLES = 50;
    const MAX_STARS = 800;
    
    // Theme color presets
    const themes = {
      violet: {
        primary: '#7b2cbf',
        primaryLight: '#9d4edd',
        primaryDark: '#5a189a',
        secondary: '#c77dff',
        accent: '#e0aaff'
      },
      blue: {
        primary: '#2c3bbf',
        primaryLight: '#4d5edd',
        primaryDark: '#1a279a',
        secondary: '#7d8cff',
        accent: '#aab9ff'
      },
      pink: {
        primary: '#bf2c8a',
        primaryLight: '#dd4da7',
        primaryDark: '#9a1a6b',
        secondary: '#ff7dc7',
        accent: '#ffaae0'
      },
      green: {
        primary: '#2cbf5e',
        primaryLight: '#4ddd7a',
        primaryDark: '#1a9a45',
        secondary: '#7dff9e',
        accent: '#aaffc1'
      },
      orange: {
        primary: '#bf842c',
        primaryLight: '#dda04d',
        primaryDark: '#9a651a',
        secondary: '#ffb87d',
        accent: '#ffd4aa'
      },
      purple: {
        primary: '#6a2cbf',
        primaryLight: '#8a4ddd',
        primaryDark: '#4d1a9a',
        secondary: '#a87dff',
        accent: '#c5aaff'
      },
      red: {
        primary: '#bf2c2c',
        primaryLight: '#dd4d4d',
        primaryDark: '#9a1a1a',
        secondary: '#ff7d7d',
        accent: '#ffaaaa'
      },
      teal: {
        primary: '#2cb7bf',
        primaryLight: '#4dd7dd',
        primaryDark: '#1a8d9a',
        secondary: '#7defff',
        accent: '#aaf8ff'
      }
    };

    // Default settings
    const defaultSettings = {
      starDensity: 800,
      shootingStarFreq: 8,
      animationSpeed: 1,
      nebulaOpacity: 50,
      particlesEnabled: true,
      auroraEnabled: true,
      cometEnabled: true,
      pulseOrbsEnabled: true,
      constellationEnabled: true,
      theme: 'violet'
    };

    // Current settings
    let currentSettings = {...defaultSettings};

    // Load settings from localStorage
    function loadSettings() {
      const savedSettings = localStorage.getItem('cosmicSettings');
      if (savedSettings) {
        currentSettings = JSON.parse(savedSettings);
        applySettings();
      }
    }

    // Save settings to localStorage
    function saveSettings() {
      localStorage.setItem('cosmicSettings', JSON.stringify(currentSettings));
      showMessage("✅ Settings saved!", "success");
    }

    // Reset to default settings
    function resetSettings() {
      currentSettings = {...defaultSettings};
      applySettings();
      saveSettings();
      showMessage("✅ Settings reset to defaults!", "success");
    }

    // Apply current settings to controls
    function applySettings() {
      document.getElementById('starDensity').value = currentSettings.starDensity;
      document.getElementById('shootingStarFreq').value = currentSettings.shootingStarFreq;
      document.getElementById('animationSpeed').value = currentSettings.animationSpeed;
      document.getElementById('nebulaOpacity').value = currentSettings.nebulaOpacity;
      document.getElementById('toggleParticles').checked = currentSettings.particlesEnabled;
      document.getElementById('toggleAurora').checked = currentSettings.auroraEnabled;
      document.getElementById('toggleComet').checked = currentSettings.cometEnabled;
      document.getElementById('togglePulseOrbs').checked = currentSettings.pulseOrbsEnabled;
      document.getElementById('toggleConstellation').checked = currentSettings.constellationEnabled;
      
      document.getElementById('starDensityValue').textContent = currentSettings.starDensity;
      document.getElementById('shootingStarValue').textContent = currentSettings.shootingStarFreq;
      document.getElementById('animationSpeedValue').textContent = currentSettings.animationSpeed;
      document.getElementById('nebulaOpacityValue').textContent = currentSettings.nebulaOpacity;
      
      document.querySelectorAll('.color-option').forEach(opt => {
        opt.classList.remove('selected');
        if (opt.dataset.theme === currentSettings.theme) {
          opt.classList.add('selected');
        }
      });
      
      updateCSSVariables();
      createStars();
      createShootingStars();
      createConstellation();
      updateComet();
      updatePulseOrbs();
      updateAurora();
      updateConstellation();
    }

    // Update CSS variables based on current settings
    function updateCSSVariables() {
      document.documentElement.style.setProperty('--star-density', currentSettings.starDensity);
      document.documentElement.style.setProperty('--shooting-star-frequency', currentSettings.shootingStarFreq);
      document.documentElement.style.setProperty('--animation-speed', currentSettings.animationSpeed);
      document.documentElement.style.setProperty('--nebula-opacity', currentSettings.nebulaOpacity / 100);
      document.documentElement.style.setProperty('--particle-effects', currentSettings.particlesEnabled ? 1 : 0);
      document.documentElement.style.setProperty('--aurora-effect', currentSettings.auroraEnabled ? 1 : 0);
      document.documentElement.style.setProperty('--comet-effect', currentSettings.cometEnabled ? 'block' : 'none');
      document.documentElement.style.setProperty('--pulse-orb-effect', currentSettings.pulseOrbsEnabled ? 1 : 0);
      document.documentElement.style.setProperty('--constellation-effect', currentSettings.constellationEnabled ? 1 : 0);
      
      const theme = themes[currentSettings.theme];
      document.documentElement.style.setProperty('--primary', theme.primary);
      document.documentElement.style.setProperty('--primary-light', theme.primaryLight);
      document.documentElement.style.setProperty('--primary-dark', theme.primaryDark);
      document.documentElement.style.setProperty('--secondary', theme.secondary);
      document.documentElement.style.setProperty('--accent', theme.accent);
    }

    // Starfield Creation
    function createStars() {
      const layers = [
        document.getElementById('star-layer-1'),
        document.getElementById('star-layer-2'),
        document.getElementById('star-layer-3'),
        document.getElementById('star-layer-4'),
        document.getElementById('star-layer-5')
      ];
      
      layers.forEach(layer => {
        layer.innerHTML = '';
      });
      
      const baseDensity = currentSettings.starDensity;
      
      layers.forEach((layer, index) => {
        const layerMultiplier = [1.2, 1, 0.8, 0.6, 0.4][index];
        const starCount = Math.floor(baseDensity * layerMultiplier);
        const sizeMultiplier = 1 + (index * 0.3);
        
        for (let i = 0; i < starCount; i++) {
          const star = document.createElement('div');
          star.classList.add('star');
          
          const size = (Math.random() * 2 + 0.5) * sizeMultiplier;
          star.style.width = `${size}px`;
          star.style.height = `${size}px`;
          
          star.style.left = `${Math.random() * 100}%`;
          star.style.top = `${Math.random() * 100}%`;
          
          layer.appendChild(star);
        }
      });
    }
    
    // Shooting stars
    function createShootingStars() {
      const container = document.getElementById('shooting-stars');
      container.innerHTML = '';
      
      const frequency = currentSettings.shootingStarFreq;
      const count = Math.min(20, Math.floor(frequency * 1.5));
      
      for (let i = 0; i < count; i++) {
        const star = document.createElement('div');
        star.classList.add('shooting-star');
        
        star.style.left = `${Math.random() * 100}%`;
        star.style.top = `${Math.random() * 100}%`;
        
        const size = Math.random() * 3 + 2;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        
        const duration = Math.random() * 2 + 1;
        star.style.animationDuration = `${duration}s`;
        
        star.style.animationDelay = `${Math.random() * 10}s`;
        
        container.appendChild(star);
      }
    }
    
    // Create constellation effect
    function createConstellation() {
      const container = document.getElementById('constellation');
      container.innerHTML = '';
      
      if (!currentSettings.constellationEnabled) return;
      
      const pointCount = 30;
      const points = [];
      
      for (let i = 0; i < pointCount; i++) {
        const point = document.createElement('div');
        point.classList.add('star');
        point.style.width = '3px';
        point.style.height = '3px';
        point.style.opacity = '0.7';
        
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        point.style.left = `${left}%`;
        point.style.top = `${top}%`;
        
        container.appendChild(point);
        points.push({ element: point, x: left, y: top });
      }
      
      for (let i = 0; i < pointCount; i++) {
        for (let j = i + 1; j < pointCount; j++) {
          const dx = points[i].x - points[j].x;
          const dy = points[i].y - points[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          
          if (distance < 20 && Math.random() > 0.7) {
            const line = document.createElement('div');
            line.classList.add('constellation-line');
            
            const angle = Math.atan2(dy, dx);
            const length = distance;
            
            line.style.width = `${length}%`;
            line.style.left = `${points[i].x}%`;
            line.style.top = `${points[i].y}%`;
            line.style.transform = `rotate(${angle}rad)`;
            
            line.style.animation = `constellation-flicker ${Math.random() * 5 + 5}s infinite`;
            
            container.appendChild(line);
          }
        }
      }
    }
    
    // Update comet visibility
    function updateComet() {
      const comet = document.getElementById('comet');
      comet.style.display = currentSettings.cometEnabled ? 'block' : 'none';
      
      if (currentSettings.cometEnabled) {
        comet.style.animationDelay = `${Math.random() * 10}s`;
        const size = Math.random() * 4 + 4;
        comet.style.width = `${size}px`;
        comet.style.height = `${size}px`;
      }
    }
    
    // Update pulse orbs visibility
    function updatePulseOrbs() {
      const orbs = document.querySelectorAll('.pulse-orb');
      orbs.forEach(orb => {
        orb.style.display = currentSettings.pulseOrbsEnabled ? 'block' : 'none';
      });
    }
    
    // Update aurora visibility
    function updateAurora() {
      const aurora = document.querySelector('.aurora');
      aurora.style.display = currentSettings.auroraEnabled ? 'block' : 'none';
    }
    
    // Update constellation visibility
    function updateConstellation() {
      const constellation = document.getElementById('constellation');
      constellation.style.display = currentSettings.constellationEnabled ? 'block' : 'none';
    }
    
    // Initialize controls
    function initControls() {
      document.getElementById('starDensity').addEventListener('input', function() {
        currentSettings.starDensity = parseInt(this.value);
        document.getElementById('starDensityValue').textContent = this.value;
        updateCSSVariables();
        createStars();
      });
      
      document.getElementById('shootingStarFreq').addEventListener('input', function() {
        currentSettings.shootingStarFreq = parseInt(this.value);
        document.getElementById('shootingStarValue').textContent = this.value;
        updateCSSVariables();
        createShootingStars();
      });
      
      document.getElementById('animationSpeed').addEventListener('input', function() {
        currentSettings.animationSpeed = parseFloat(this.value);
        document.getElementById('animationSpeedValue').textContent = this.value;
        updateCSSVariables();
        
        const stars = document.querySelectorAll('.star, .shooting-star');
        stars.forEach(star => {
          const currentAnim = star.style.animation;
          star.style.animation = 'none';
          void star.offsetWidth;
          star.style.animation = currentAnim;
        });
      });
      
      document.getElementById('nebulaOpacity').addEventListener('input', function() {
        currentSettings.nebulaOpacity = parseInt(this.value);
        document.getElementById('nebulaOpacityValue').textContent = this.value;
        updateCSSVariables();
      });
      
      document.getElementById('toggleParticles').addEventListener('change', function() {
        currentSettings.particlesEnabled = this.checked;
        updateCSSVariables();
      });
      
      document.getElementById('toggleAurora').addEventListener('change', function() {
        currentSettings.auroraEnabled = this.checked;
        updateCSSVariables();
        updateAurora();
      });
      
      document.getElementById('toggleComet').addEventListener('change', function() {
        currentSettings.cometEnabled = this.checked;
        updateCSSVariables();
        updateComet();
      });
      
      document.getElementById('togglePulseOrbs').addEventListener('change', function() {
        currentSettings.pulseOrbsEnabled = this.checked;
        updateCSSVariables();
        updatePulseOrbs();
      });
      
      document.getElementById('toggleConstellation').addEventListener('change', function() {
        currentSettings.constellationEnabled = this.checked;
        updateCSSVariables();
        createConstellation();
      });
      
      document.querySelectorAll('.color-option').forEach(option => {
        option.addEventListener('click', function() {
          document.querySelectorAll('.color-option').forEach(opt => {
            opt.classList.remove('selected');
          });
          this.classList.add('selected');
          
          currentSettings.theme = this.dataset.theme;
          updateCSSVariables();
        });
      });
      
      document.getElementById('saveSettings').addEventListener('click', saveSettings);
      document.getElementById('resetSettings').addEventListener('click', resetSettings);
    }
    
    // Helper function to show messages with effects
    function showMessage(text, type) {
      const msg = document.getElementById('msg');
      msg.textContent = text;
      msg.style.color = type === 'error' ? '#ff6b6b' : '#51cf66';
      msg.classList.add('show');
      
      setTimeout(() => {
        msg.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 100);
    }
    
    // Initialize mobile controls
    function initMobileControls() {
      const mobileToggle = document.getElementById('mobileControlsToggle');
      const controlsPanel = document.getElementById('controlsPanel');
      
      mobileToggle.addEventListener('click', function(e) {
        e.stopPropagation();
        this.classList.toggle('active');
        controlsPanel.classList.toggle('active');
      });
      
      document.addEventListener('click', function(e) {
        if (!controlsPanel.contains(e.target) && !mobileToggle.contains(e.target)) {
          mobileToggle.classList.remove('active');
          controlsPanel.classList.remove('active');
        }
      });
    }
    
    // Debounce resize events
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        createStars();
      }, 200);
    });
    
    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      loadSettings();
      initControls();
      initMobileControls();
      
      // Start background animation loop
      animateBackground();
    });
    
    // Continuous background animations
    function animateBackground() {
      if (Math.random() > (1 - (currentSettings.shootingStarFreq / 50))) {
        createShootingStars();
      }
      
      const nebulas = document.querySelectorAll('.nebula');
      nebulas.forEach(nebula => {
        nebula.style.opacity = (Math.random() * currentSettings.nebulaOpacity / 100).toFixed(2);
      });
      
      requestAnimationFrame(animateBackground);
    }
  </script>
</body>
</html>
